language: julia
# addons:
#   apt_packages:
#     - gfortran
# before_install:
#   - if [ "$TRAVIS_OS_NAME" == "osx" ]; then
#         brew install gcc;
#     fi
jobs:
  include:
    - stage: test
      julia: 1.0
      if: branch = master
      os: osx
      env: STAGE=test
      script:
        - if [[ -a .git/shallow ]]; then git fetch --unshallow; fi
        - julia --check-bounds=yes -e 'using Pkg;
                    Pkg.test("Turing"; coverage=true)'
notifications:
  email: false